---
title: Sign up for our newsletter!
layout: layouts/default.njk
navbar: navbar1
footer: footer1
colorModifier: dark
permalink: newsletter.html
---
<style>
  #popup { display: none !important; }
</style>

<div class="container">
  <div class="row d-flex justify-content-center">
    <div class="col-12 text-center py-vh-3">
      <h1>{{title}}</h1>
    </div>
    <div class="col-11 col-lg-10 col-xl-6 border-bottom border-top py-vh-3">
      <div class="contact-form">
        <form id="newsletter-subscribe-form" class="validate newsletter-form" novalidate>
          <div id="newsletter_signup_scroll">
            <h5 class="gambado">Keep up with all our shenanigans</h5>
            <div class="mc-field-group">
              <label for="newsletter-email">Email Address <span class="asterisk">*</span></label>
              <input type="email" value="" name="email" class="required email" id="newsletter-email" required>
            </div>
            <div id="newsletter-responses" class="clear foot">
              <div class="response" id="newsletter-error-response" style="display:none"></div>
              <div class="response" id="newsletter-success-response" style="display:none"></div>
            </div>
            <div class="optionalParent">
              <div class="clear foot">
                <input type="submit" value="Subscribe" class="button button--large border-color-white" style="margin-left: 0;">
              </div>
            </div>
          </div>
        </form>
        <p style="font-size:small; margin-bottom:0;">We promise not to spam you -- our newsletter contains updates on what we're up to, like new film projects or events and whatnot. It goes out every 2 months or so.</p>
      </div>
    </div>
  </div>
</div>

<script>
(() => {
  const form = document.getElementById('newsletter-subscribe-form');
  if (!form) return;

  form.addEventListener('submit', async (e) => {
    e.preventDefault();
    const email = form.querySelector('input[type="email"]').value;
    const errorEl = document.getElementById('newsletter-error-response');
    const successEl = document.getElementById('newsletter-success-response');
    const submitBtn = form.querySelector('input[type="submit"]');

    errorEl.style.display = 'none';
    successEl.style.display = 'none';
    submitBtn.disabled = true;
    submitBtn.value = 'Subscribing...';

    try {
      const res = await fetch('https://dustwave-newsletter.jogo.workers.dev', {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify({ email })
      });
      const data = await res.json();

      if (res.ok && data.success) {
        successEl.textContent = data.message || 'Thanks for subscribing!';
        successEl.style.display = 'block';
        form.querySelector('input[type="email"]').value = '';
      } else {
        throw new Error(data.error || 'Something went wrong');
      }
    } catch (err) {
      errorEl.textContent = err.message;
      errorEl.style.display = 'block';
    } finally {
      submitBtn.disabled = false;
      submitBtn.value = 'Subscribe';
    }
  });
})();
</script>
