{# Auto-generated gallery from galleryImages frontmatter array #}
{# Usage: {% include "snippets/auto-gallery.njk" %} #}

{% if galleryImages and galleryImages.length > 0 %}
<h3>Behind the Scenes</h3>
<div class="row g-2">
  <div class="col-lg-6 col-md-12 mb-6 mb-lg-0">
    {% for image in galleryImages %}
      {% if loop.index0 % 2 == 0 %}
        <img src="{{ image }}" class="w-100 shadow-1-strong rounded mb-2" alt="Gallery image" loading="lazy">
      {% endif %}
    {% endfor %}
  </div>
  <div class="col-lg-6 col-md-12 mb-6 mb-lg-0">
    {% for image in galleryImages %}
      {% if loop.index0 % 2 == 1 %}
        <img src="{{ image }}" class="w-100 shadow-1-strong rounded mb-2" alt="Gallery image" loading="lazy">
      {% endif %}
    {% endfor %}
  </div>
</div>
<br><br>
{% endif %}

{# Auto-render poster if present #}
{% if poster %}
<h3>Poster</h3>
<img src="{{ poster }}" class="w-75 shadow-1-strong rounded mb-2" alt="Poster" loading="lazy">
<br><br>
{% endif %}

{# Auto-render video embed if videoId is present #}
{% if videoId %}
<h2>Movie</h2>
{% if videoType == "vimeo" %}
<style>.embed-container { position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden; max-width: 100%; } .embed-container iframe { position: absolute; top: 0; left: 0; width: 100%; height: 100%; }</style><div class="embed-container"><iframe src="https://player.vimeo.com/video/{{ videoId }}" title="Vimeo video player" frameborder="0" allow="autoplay; fullscreen; picture-in-picture" allowfullscreen loading="lazy"></iframe></div>
{% else %}
<style>.embed-container { position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden; max-width: 100%; } .embed-container iframe { position: absolute; top: 0; left: 0; width: 100%; height: 100%; }</style><div class="embed-container"><iframe src="https://www.youtube-nocookie.com/embed/{{ videoId }}?rel=0" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen loading="lazy"></iframe></div>
{% endif %}
{% endif %}
